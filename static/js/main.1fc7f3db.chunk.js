(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1085:function(e,t,a){},1086:function(e,t,a){},1087:function(e,t,a){},1088:function(e,t,a){},1089:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(15),o=a.n(c),i=a(5),u=a(6),l=a(9),m=a(7),p=a(10),d=(a(22),a(23),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status,c=a.split(" ")[0];return s.a.createElement("div",{className:"Empty"},s.a.createElement("h1",{className:"Empty__name"},"Welcome, ",c," "),s.a.createElement("img",{src:n,alt:a,className:"Empty__img"}),s.a.createElement("p",{className:"Empty__status"},s.a.createElement("b",null,"Status:")," ",r),s.a.createElement("button",{className:"Empty__btn"},"Start a conversation"),s.a.createElement("p",{className:"Empty__info"},"Search for someone to start chatting with or go to Contacts to see who is available"))}),f=(a(24),function(e){var t=e.user,a=t.name,n=t.status;return s.a.createElement("header",{className:"Header"},s.a.createElement("h1",{className:"Header__name"},a),s.a.createElement("p",{className:"Header__status"},n))}),v=(a(25),function(e){var t=e.message,a=t.text,n=t.is_user_msg;return s.a.createElement("span",{className:"Chat ".concat(n?"is-user-msg":"")},a)}),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).scrollToBottom=function(){a.chatsRef.current.scrollTop=a.chatsRef.current.scrollHeight},a.chatsRef=s.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return s.a.createElement("div",{className:"Chats",ref:this.chatsRef},this.props.messages.map(function(e){return s.a.createElement(v,{message:e,key:e.number})}))}}]),t}(s.a.Component),E=a(8),g=a(2),_=a(26),y=a(35),b=a(36),N=a(1),U=(n=10,Array.from({length:n},function(){return I()})),j=N.mapKeys(U,"user_id"),O=function(e){var t={};return N.forEach(U,function(a){var n;t[a.user_id]=Object(g.a)({},N.mapKeys((n=e,Array.from({length:n},function(e,t){return{number:t,text:y.sentence(),is_user_msg:b.random.boolean()}})),"number"))}),t};I(),O(10);function I(){return{name:b.name.findName(),email:b.internet.email(),profile_pic:b.internet.avatar(),status:y.sentence(),user_id:_.generate()}}var S="SET_ACTIVE_USER_ID",k="SET_TYPING_VALUE",w="SEND_MESSAGE";var R=a(3),T=a(1),C=a.n(T);var M=Object(E.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return arguments.length>1&&arguments[1],e},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;arguments.length>1&&arguments[1];return e},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.payload;default:return e}return e},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:var a=t.payload,n=a.message,r=a.userId,s=e[r],c=+C.a.keys(s).pop()+1;return Object(g.a)({},e,Object(R.a)({},r,Object(g.a)({},s,Object(R.a)({},c,{number:c,text:n,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.payload;case w:return"";default:return e}}}),B=Object(E.b)(M),D=function(e){return{type:S,payload:e}},A=(a(1085),function(e){var t=e.value,a=B.getState();return s.a.createElement("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=a.typing,n=a.activeUserId;B.dispatch({type:w,payload:{message:t,userId:n}})}},s.a.createElement("input",{className:"Message__input",onChange:function(e){var t;B.dispatch((t=e.target.value,{type:k,payload:t}))},value:t,placeholder:"write a message"}))}),H=function(e){var t=e.activeUserId,a=B.getState(),n=a.typing,r=a.contacts[t],c=a.messages[t];return s.a.createElement("div",{className:"ChatWindow"},s.a.createElement(f,{user:r}),s.a.createElement(h,{messages:C.a.values(c)}),s.a.createElement(A,{value:n}))},x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).scrollToBottom=function(){a.mainRef.current.scrollTop=a.mainRef.current.scrollHeight},a.mainRef=s.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"renderMainContent",value:function(){return this.props.activeUserId?s.a.createElement(H,{activeUserId:this.props.activeUserId}):s.a.createElement(d,{user:this.props.user,activeUserId:this.props.activeUserId})}},{key:"render",value:function(){return s.a.createElement("main",{className:"Main",ref:this.mainRef},this.renderMainContent())}}]),t}(s.a.Component),F=(a(1086),a(1087),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status;return s.a.createElement("div",{onClick:G.bind(null,t),className:"User"},s.a.createElement("img",{src:n,alt:a,className:"User_pic"}),s.a.createElement("div",{className:"User_details"},s.a.createElement("p",{className:"User_details-name"},a),s.a.createElement("p",{className:"User_details-status"},r)))});function G(e){var t=e.user_id;B.dispatch(D(t))}var J=function(e){var t=e.contacts;return s.a.createElement("aside",{className:"Sidebar"},t.map(function(e){return s.a.createElement(F,{user:e,key:e.user_id})}))};a(1088);function K(){var e=B.getState(),t=e.contacts,a=e.user,n=e.activeUserId;return s.a.createElement("div",{className:"App"},s.a.createElement(J,{contacts:C.a.values(t)}),s.a.createElement(x,{user:a,activeUserId:n}))}var V=function(){return console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49\ud83d\udc47","background: purple; color: #FFF"),console.log(B.getState()),o.a.render(s.a.createElement(K,null),document.getElementById("root"))};V(),B.subscribe(V)},17:function(e,t,a){e.exports=a(1089)},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.1fc7f3db.chunk.js.map